<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Task 2</title>
</head>
<body>
	<button onclick="add_box()"> Click me</button>
	<button onclick="delete_all_box()">Delete</button>
	<div class="my_box" id="id1" style="padding: 10px 10px;">
	
	</div>

	<script type="text/javascript">
		function add_box()
		{
			const div = document.createElement("div");
			div.setAttribute("style", "background-color:grey;width:200px;padding: 8px 20px;margin: 20px;border-radius: 10px;");
			const input_node = document.createElement("input"); 
			input_node. setAttribute('type', 'text'); 
			input_node. setAttribute('name', 'first_text_box'); 


			input_node.setAttribute("style","padding: 8px 10px;margin:20px")
			div.appendChild(input_node);
			const delete_button = document.createElement("BUTTON");
			delete_button.innerHTML="DELETE"
			delete_button.setAttribute("onclick","delete_box(this)")
			div.appendChild(delete_button);
			const value_button = document.createElement("BUTTON");
			value_button.innerHTML="VALUE"
			value_button.setAttribute("onclick","print_value(this)")
			value_button.setAttribute("style","margin:10px")
			div.appendChild(value_button);

			const para = document.createElement("p");
			const node = document.createTextNode("This is the value: ");
			para.appendChild(node);
			div.appendChild(para);


			const main = document.getElementById("id1");
			main.appendChild(div);
		}
		function print_value(el)
		{
			var x = el.parentElement;
			text = x.querySelector('input[name]').value;
			x.querySelector('p').textContent = "This is the value: "+text
		}
		function delete_box(el)
		{
			console.log("cae")
			el.parentElement.remove();
		}
		function delete_all_box(el)
		{
			const main = document.getElementById("id1");
			while (main.firstChild) {
        		main.removeChild(main.firstChild);
    		}
		}

	</script>
</body>
</html>